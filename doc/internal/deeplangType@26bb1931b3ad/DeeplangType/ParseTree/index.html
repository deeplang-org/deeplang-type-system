<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>ParseTree (deeplangType@26bb1931b3ad.DeeplangType.ParseTree)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.1.0"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../index.html">deeplangType@26bb1931b3ad</a> &#x00BB; <a href="../index.html">DeeplangType</a> &#x00BB; ParseTree</nav><header class="odoc-preamble"><h1>Module <code><span>DeeplangType.ParseTree</span></code></h1><p>This module defines the abstract syntax of deeplang. The syntax tree will be used for all subsequent compiler passes, until code generation.</p></header><nav class="odoc-toc"><ul><li><a href="#helper-definitions">Helper Definitions</a></li><li><a href="#types">Types</a></li><li><a href="#patterns">Patterns</a></li><li><a href="#expressions">Expressions</a></li><li><a href="#statements">Statements</a></li><li><a href="#top-level-clauses">Top Level Clauses</a></li></ul></nav><div class="odoc-content"><h2 id="helper-definitions"><a href="#helper-definitions" class="anchor"></a>Helper Definitions</h2><div class="odoc-spec"><div class="spec type" id="type-src_span" class="anchored"><a href="#type-src_span" class="anchor"></a><code><span><span class="keyword">type</span> src_span</span><span> = </span><span>{</span></code><table><tr id="type-src_span.file" class="anchored"><td class="def record field"><a href="#type-src_span.file" class="anchor"></a><code><span>file : string;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>source file name</p><span class="comment-delim">*)</span></td></tr><tr id="type-src_span.row_s" class="anchored"><td class="def record field"><a href="#type-src_span.row_s" class="anchor"></a><code><span>row_s : int;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>row number of the start of the region</p><span class="comment-delim">*)</span></td></tr><tr id="type-src_span.col_s" class="anchored"><td class="def record field"><a href="#type-src_span.col_s" class="anchor"></a><code><span>col_s : int;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>column number of the start of the region</p><span class="comment-delim">*)</span></td></tr><tr id="type-src_span.row_e" class="anchored"><td class="def record field"><a href="#type-src_span.row_e" class="anchor"></a><code><span>row_e : int;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>row number of the end of the region</p><span class="comment-delim">*)</span></td></tr><tr id="type-src_span.col_e" class="anchored"><td class="def record field"><a href="#type-src_span.col_e" class="anchor"></a><code><span>col_e : int;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>column number of the end of the region</p><span class="comment-delim">*)</span></td></tr></table><code><span>}</span></code></div><div class="spec-doc"><p><code>src_span</code> is a region in some source file. Used to report error messages</p></div></div><div class="odoc-spec"><div class="spec type" id="type-variable" class="anchored"><a href="#type-variable" class="anchor"></a><code><span><span class="keyword">type</span> variable</span><span> = string</span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-func_name" class="anchored"><a href="#type-func_name" class="anchor"></a><code><span><span class="keyword">type</span> func_name</span><span> = string</span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-struct_field" class="anchored"><a href="#type-struct_field" class="anchor"></a><code><span><span class="keyword">type</span> struct_field</span><span> = string</span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-adt_label" class="anchored"><a href="#type-adt_label" class="anchor"></a><code><span><span class="keyword">type</span> adt_label</span><span> = string</span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-typ_name" class="anchored"><a href="#type-typ_name" class="anchor"></a><code><span><span class="keyword">type</span> typ_name</span><span> = string</span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-method_name" class="anchored"><a href="#type-method_name" class="anchor"></a><code><span><span class="keyword">type</span> method_name</span><span> = string</span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-intf_name" class="anchored"><a href="#type-intf_name" class="anchor"></a><code><span><span class="keyword">type</span> intf_name</span><span> = string</span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-symbol" class="anchored"><a href="#type-symbol" class="anchor"></a><code><span><span class="keyword">type</span> symbol</span><span> = </span></code><table><tr id="type-symbol.Symbol" class="anchored"><td class="def variant constructor"><a href="#type-symbol.Symbol" class="anchor"></a><code><span>| </span><span><span class="constructor">Symbol</span> <span class="keyword">of</span> int</span></code></td></tr></table></div><div class="spec-doc"><p>a globally unique id for <em>variables</em></p></div></div><div class="odoc-spec"><div class="spec module" id="module-NodeId" class="anchored"><a href="#module-NodeId" class="anchor"></a><code><span><span class="keyword">module</span> <a href="NodeId/index.html">NodeId</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p><code>NodeId</code> contains types for unique ids for various kinds of AST nodes. Can be used to attach extra data to AST nodes, via an external table.</p></div></div><h2 id="types"><a href="#types" class="anchor"></a>Types</h2><div class="odoc-spec"><div class="spec type" id="type-int_typ_sign" class="anchored"><a href="#type-int_typ_sign" class="anchor"></a><code><span><span class="keyword">type</span> int_typ_sign</span><span> = </span></code><table><tr id="type-int_typ_sign.Signed" class="anchored"><td class="def variant constructor"><a href="#type-int_typ_sign.Signed" class="anchor"></a><code><span>| </span><span><span class="constructor">Signed</span></span></code></td></tr><tr id="type-int_typ_sign.Unsigned" class="anchored"><td class="def variant constructor"><a href="#type-int_typ_sign.Unsigned" class="anchor"></a><code><span>| </span><span><span class="constructor">Unsigned</span></span></code></td></tr></table></div></div><div class="odoc-spec"><div class="spec type" id="type-int_typ_size" class="anchored"><a href="#type-int_typ_size" class="anchor"></a><code><span><span class="keyword">type</span> int_typ_size</span><span> = </span></code><table><tr id="type-int_typ_size.ISize_8" class="anchored"><td class="def variant constructor"><a href="#type-int_typ_size.ISize_8" class="anchor"></a><code><span>| </span><span><span class="constructor">ISize_8</span></span></code></td></tr><tr id="type-int_typ_size.ISize_16" class="anchored"><td class="def variant constructor"><a href="#type-int_typ_size.ISize_16" class="anchor"></a><code><span>| </span><span><span class="constructor">ISize_16</span></span></code></td></tr><tr id="type-int_typ_size.ISize_32" class="anchored"><td class="def variant constructor"><a href="#type-int_typ_size.ISize_32" class="anchor"></a><code><span>| </span><span><span class="constructor">ISize_32</span></span></code></td></tr><tr id="type-int_typ_size.ISize_64" class="anchored"><td class="def variant constructor"><a href="#type-int_typ_size.ISize_64" class="anchor"></a><code><span>| </span><span><span class="constructor">ISize_64</span></span></code></td></tr></table></div></div><div class="odoc-spec"><div class="spec type" id="type-float_typ_size" class="anchored"><a href="#type-float_typ_size" class="anchor"></a><code><span><span class="keyword">type</span> float_typ_size</span><span> = </span></code><table><tr id="type-float_typ_size.FSize_32" class="anchored"><td class="def variant constructor"><a href="#type-float_typ_size.FSize_32" class="anchor"></a><code><span>| </span><span><span class="constructor">FSize_32</span></span></code></td></tr><tr id="type-float_typ_size.FSize_64" class="anchored"><td class="def variant constructor"><a href="#type-float_typ_size.FSize_64" class="anchor"></a><code><span>| </span><span><span class="constructor">FSize_64</span></span></code></td></tr></table></div></div><div class="odoc-spec"><div class="spec type" id="type-typ" class="anchored"><a href="#type-typ" class="anchor"></a><code><span><span class="keyword">type</span> typ</span><span> = </span><span>{</span></code><table><tr id="type-typ.shape" class="anchored"><td class="def record field"><a href="#type-typ.shape" class="anchor"></a><code><span>shape : <a href="#type-typ_shape">typ_shape</a>;</span></code></td></tr><tr id="type-typ.span" class="anchored"><td class="def record field"><a href="#type-typ.span" class="anchor"></a><code><span>span : <span><a href="#type-src_span">src_span</a> option</span>;</span></code></td></tr></table><code><span>}</span></code></div><div class="spec-doc"><p>For types internally generated by the compiler, <code>span</code> should be <code>None</code>.</p></div></div><div class="odoc-spec"><div class="spec type" id="type-typ_shape" class="anchored"><a href="#type-typ_shape" class="anchor"></a><code><span><span class="keyword">and</span> typ_shape</span><span> = </span></code><table><tr id="type-typ_shape.TyVar" class="anchored"><td class="def variant constructor"><a href="#type-typ_shape.TyVar" class="anchor"></a><code><span>| </span><span><span class="constructor">TyVar</span> <span class="keyword">of</span> string</span></code></td></tr><tr id="type-typ_shape.TyUnit" class="anchored"><td class="def variant constructor"><a href="#type-typ_shape.TyUnit" class="anchor"></a><code><span>| </span><span><span class="constructor">TyUnit</span></span></code></td></tr><tr id="type-typ_shape.TyBool" class="anchored"><td class="def variant constructor"><a href="#type-typ_shape.TyBool" class="anchor"></a><code><span>| </span><span><span class="constructor">TyBool</span></span></code></td></tr><tr id="type-typ_shape.TyInt" class="anchored"><td class="def variant constructor"><a href="#type-typ_shape.TyInt" class="anchor"></a><code><span>| </span><span><span class="constructor">TyInt</span> <span class="keyword">of</span> <a href="#type-int_typ_sign">int_typ_sign</a> * <a href="#type-int_typ_size">int_typ_size</a></span></code></td></tr><tr id="type-typ_shape.TyFloat" class="anchored"><td class="def variant constructor"><a href="#type-typ_shape.TyFloat" class="anchor"></a><code><span>| </span><span><span class="constructor">TyFloat</span> <span class="keyword">of</span> <a href="#type-float_typ_size">float_typ_size</a></span></code></td></tr><tr id="type-typ_shape.TyChar" class="anchored"><td class="def variant constructor"><a href="#type-typ_shape.TyChar" class="anchor"></a><code><span>| </span><span><span class="constructor">TyChar</span></span></code></td></tr><tr id="type-typ_shape.TyThis" class="anchored"><td class="def variant constructor"><a href="#type-typ_shape.TyThis" class="anchor"></a><code><span>| </span><span><span class="constructor">TyThis</span></span></code></td></tr><tr id="type-typ_shape.TyArray" class="anchored"><td class="def variant constructor"><a href="#type-typ_shape.TyArray" class="anchor"></a><code><span>| </span><span><span class="constructor">TyArray</span> <span class="keyword">of</span> <a href="#type-typ">typ</a> * int</span></code></td></tr><tr id="type-typ_shape.TyTuple" class="anchored"><td class="def variant constructor"><a href="#type-typ_shape.TyTuple" class="anchor"></a><code><span>| </span><span><span class="constructor">TyTuple</span> <span class="keyword">of</span> <span><a href="#type-typ">typ</a> list</span></span></code></td></tr><tr id="type-typ_shape.TyNamed" class="anchored"><td class="def variant constructor"><a href="#type-typ_shape.TyNamed" class="anchor"></a><code><span>| </span><span><span class="constructor">TyNamed</span> <span class="keyword">of</span> <a href="#type-typ_name">typ_name</a> * <span><a href="#type-typ">typ</a> list</span></span></code></td></tr></table></div><div class="spec-doc"><p><code>typ_shape</code> declares the structure of deeplang types</p></div></div><h2 id="patterns"><a href="#patterns" class="anchor"></a>Patterns</h2><div class="odoc-spec"><div class="spec type" id="type-mutability" class="anchored"><a href="#type-mutability" class="anchor"></a><code><span><span class="keyword">type</span> mutability</span><span> = </span></code><table><tr id="type-mutability.Imm" class="anchored"><td class="def variant constructor"><a href="#type-mutability.Imm" class="anchor"></a><code><span>| </span><span><span class="constructor">Imm</span></span></code></td></tr><tr id="type-mutability.Mut" class="anchored"><td class="def variant constructor"><a href="#type-mutability.Mut" class="anchor"></a><code><span>| </span><span><span class="constructor">Mut</span></span></code></td></tr></table></div></div><div class="odoc-spec"><div class="spec type" id="type-var_pattern" class="anchored"><a href="#type-var_pattern" class="anchor"></a><code><span><span class="keyword">type</span> var_pattern</span><span> = </span><span>{</span></code><table><tr id="type-var_pattern.vpat_mut" class="anchored"><td class="def record field"><a href="#type-var_pattern.vpat_mut" class="anchor"></a><code><span>vpat_mut : <a href="#type-mutability">mutability</a>;</span></code></td></tr><tr id="type-var_pattern.vpat_typ" class="anchored"><td class="def record field"><a href="#type-var_pattern.vpat_typ" class="anchor"></a><code><span>vpat_typ : <span><a href="#type-typ">typ</a> option</span>;</span></code></td></tr><tr id="type-var_pattern.vpat_name" class="anchored"><td class="def record field"><a href="#type-var_pattern.vpat_name" class="anchor"></a><code><span>vpat_name : <a href="#type-variable">variable</a>;</span></code></td></tr><tr id="type-var_pattern.vpat_symb" class="anchored"><td class="def record field"><a href="#type-var_pattern.vpat_symb" class="anchor"></a><code><span>vpat_symb : <a href="#type-symbol">symbol</a>;</span></code></td></tr></table><code><span>}</span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-pattern" class="anchored"><a href="#type-pattern" class="anchor"></a><code><span><span class="keyword">type</span> pattern</span><span> = </span><span>{</span></code><table><tr id="type-pattern.shape" class="anchored"><td class="def record field"><a href="#type-pattern.shape" class="anchor"></a><code><span>shape : <a href="#type-pattern_shape">pattern_shape</a>;</span></code></td></tr><tr id="type-pattern.pat_id" class="anchored"><td class="def record field"><a href="#type-pattern.pat_id" class="anchor"></a><code><span>pat_id : <a href="NodeId/index.html#type-pattern">NodeId.pattern</a>;</span></code></td></tr><tr id="type-pattern.span" class="anchored"><td class="def record field"><a href="#type-pattern.span" class="anchor"></a><code><span>span : <a href="#type-src_span">src_span</a>;</span></code></td></tr></table><code><span>}</span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-pattern_shape" class="anchored"><a href="#type-pattern_shape" class="anchor"></a><code><span><span class="keyword">and</span> pattern_shape</span><span> = </span></code><table><tr id="type-pattern_shape.PatWildcard" class="anchored"><td class="def variant constructor"><a href="#type-pattern_shape.PatWildcard" class="anchor"></a><code><span>| </span><span><span class="constructor">PatWildcard</span></span></code></td></tr><tr id="type-pattern_shape.PatVar" class="anchored"><td class="def variant constructor"><a href="#type-pattern_shape.PatVar" class="anchor"></a><code><span>| </span><span><span class="constructor">PatVar</span> <span class="keyword">of</span> <a href="#type-var_pattern">var_pattern</a></span></code></td></tr><tr id="type-pattern_shape.PatAs" class="anchored"><td class="def variant constructor"><a href="#type-pattern_shape.PatAs" class="anchor"></a><code><span>| </span><span><span class="constructor">PatAs</span> <span class="keyword">of</span> <a href="#type-pattern">pattern</a> * <a href="#type-var_pattern">var_pattern</a></span></code></td></tr><tr id="type-pattern_shape.PatADT" class="anchored"><td class="def variant constructor"><a href="#type-pattern_shape.PatADT" class="anchor"></a><code><span>| </span><span><span class="constructor">PatADT</span> <span class="keyword">of</span> <a href="#type-adt_label">adt_label</a> * <span><a href="#type-pattern">pattern</a> list</span></span></code></td></tr><tr id="type-pattern_shape.PatStruct" class="anchored"><td class="def variant constructor"><a href="#type-pattern_shape.PatStruct" class="anchor"></a><code><span>| </span><span><span class="constructor">PatStruct</span> <span class="keyword">of</span> <a href="#type-typ_name">typ_name</a> * <span><span>(<a href="#type-struct_field">struct_field</a> * <a href="#type-pattern">pattern</a>)</span> list</span></span></code></td></tr><tr id="type-pattern_shape.PatTuple" class="anchored"><td class="def variant constructor"><a href="#type-pattern_shape.PatTuple" class="anchor"></a><code><span>| </span><span><span class="constructor">PatTuple</span> <span class="keyword">of</span> <span><a href="#type-pattern">pattern</a> list</span></span></code></td></tr></table></div></div><h2 id="expressions"><a href="#expressions" class="anchor"></a>Expressions</h2><div class="odoc-spec"><div class="spec type" id="type-literal" class="anchored"><a href="#type-literal" class="anchor"></a><code><span><span class="keyword">type</span> literal</span><span> = </span></code><table><tr id="type-literal.LitBool" class="anchored"><td class="def variant constructor"><a href="#type-literal.LitBool" class="anchor"></a><code><span>| </span><span><span class="constructor">LitBool</span> <span class="keyword">of</span> bool</span></code></td></tr><tr id="type-literal.LitInt" class="anchored"><td class="def variant constructor"><a href="#type-literal.LitInt" class="anchor"></a><code><span>| </span><span><span class="constructor">LitInt</span> <span class="keyword">of</span> int</span></code></td></tr><tr id="type-literal.LitFloat" class="anchored"><td class="def variant constructor"><a href="#type-literal.LitFloat" class="anchor"></a><code><span>| </span><span><span class="constructor">LitFloat</span> <span class="keyword">of</span> float</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>16-bit</p><span class="comment-delim">*)</span></td></tr><tr id="type-literal.LitChar" class="anchored"><td class="def variant constructor"><a href="#type-literal.LitChar" class="anchor"></a><code><span>| </span><span><span class="constructor">LitChar</span> <span class="keyword">of</span> int</span></code></td></tr><tr id="type-literal.LitString" class="anchored"><td class="def variant constructor"><a href="#type-literal.LitString" class="anchor"></a><code><span>| </span><span><span class="constructor">LitString</span> <span class="keyword">of</span> string</span></code></td></tr></table></div></div><div class="odoc-spec"><div class="spec type" id="type-unary_op" class="anchored"><a href="#type-unary_op" class="anchor"></a><code><span><span class="keyword">type</span> unary_op</span><span> = </span></code><table><tr id="type-unary_op.UnOpNeg" class="anchored"><td class="def variant constructor"><a href="#type-unary_op.UnOpNeg" class="anchor"></a><code><span>| </span><span><span class="constructor">UnOpNeg</span></span></code></td></tr><tr id="type-unary_op.UnOpNot" class="anchored"><td class="def variant constructor"><a href="#type-unary_op.UnOpNot" class="anchor"></a><code><span>| </span><span><span class="constructor">UnOpNot</span></span></code></td></tr></table></div></div><div class="odoc-spec"><div class="spec type" id="type-compare_op" class="anchored"><a href="#type-compare_op" class="anchor"></a><code><span><span class="keyword">type</span> compare_op</span><span> = </span></code><table><tr id="type-compare_op.BinOpLt" class="anchored"><td class="def variant constructor"><a href="#type-compare_op.BinOpLt" class="anchor"></a><code><span>| </span><span><span class="constructor">BinOpLt</span></span></code></td></tr><tr id="type-compare_op.BinOpLeq" class="anchored"><td class="def variant constructor"><a href="#type-compare_op.BinOpLeq" class="anchor"></a><code><span>| </span><span><span class="constructor">BinOpLeq</span></span></code></td></tr><tr id="type-compare_op.BinOpGt" class="anchored"><td class="def variant constructor"><a href="#type-compare_op.BinOpGt" class="anchor"></a><code><span>| </span><span><span class="constructor">BinOpGt</span></span></code></td></tr><tr id="type-compare_op.BinOpGeq" class="anchored"><td class="def variant constructor"><a href="#type-compare_op.BinOpGeq" class="anchor"></a><code><span>| </span><span><span class="constructor">BinOpGeq</span></span></code></td></tr><tr id="type-compare_op.BinOpEq" class="anchored"><td class="def variant constructor"><a href="#type-compare_op.BinOpEq" class="anchor"></a><code><span>| </span><span><span class="constructor">BinOpEq</span></span></code></td></tr><tr id="type-compare_op.BinOpNeq" class="anchored"><td class="def variant constructor"><a href="#type-compare_op.BinOpNeq" class="anchor"></a><code><span>| </span><span><span class="constructor">BinOpNeq</span></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>note : BinOpLNot --modify--&gt; BinOpLXor * optional : | BinOpBOr | BinOpBAnd | BinOpBXor * B = bit, | '|' | '&amp;' | '^' * it might be useful for IoT development</p><span class="comment-delim">*)</span></td></tr></table></div></div><div class="odoc-spec"><div class="spec type" id="type-calculate_op" class="anchored"><a href="#type-calculate_op" class="anchor"></a><code><span><span class="keyword">type</span> calculate_op</span><span> = </span></code><table><tr id="type-calculate_op.BinOpLOr" class="anchored"><td class="def variant constructor"><a href="#type-calculate_op.BinOpLOr" class="anchor"></a><code><span>| </span><span><span class="constructor">BinOpLOr</span></span></code></td></tr><tr id="type-calculate_op.BinOpLAnd" class="anchored"><td class="def variant constructor"><a href="#type-calculate_op.BinOpLAnd" class="anchor"></a><code><span>| </span><span><span class="constructor">BinOpLAnd</span></span></code></td></tr><tr id="type-calculate_op.BinOpLXor" class="anchored"><td class="def variant constructor"><a href="#type-calculate_op.BinOpLXor" class="anchor"></a><code><span>| </span><span><span class="constructor">BinOpLXor</span></span></code></td></tr><tr id="type-calculate_op.BinOpBOr" class="anchored"><td class="def variant constructor"><a href="#type-calculate_op.BinOpBOr" class="anchor"></a><code><span>| </span><span><span class="constructor">BinOpBOr</span></span></code></td></tr><tr id="type-calculate_op.BinOpBAnd" class="anchored"><td class="def variant constructor"><a href="#type-calculate_op.BinOpBAnd" class="anchor"></a><code><span>| </span><span><span class="constructor">BinOpBAnd</span></span></code></td></tr><tr id="type-calculate_op.BinOpBXor" class="anchored"><td class="def variant constructor"><a href="#type-calculate_op.BinOpBXor" class="anchor"></a><code><span>| </span><span><span class="constructor">BinOpBXor</span></span></code></td></tr><tr id="type-calculate_op.BinOpLShift" class="anchored"><td class="def variant constructor"><a href="#type-calculate_op.BinOpLShift" class="anchor"></a><code><span>| </span><span><span class="constructor">BinOpLShift</span></span></code></td></tr><tr id="type-calculate_op.BinOpRShift" class="anchored"><td class="def variant constructor"><a href="#type-calculate_op.BinOpRShift" class="anchor"></a><code><span>| </span><span><span class="constructor">BinOpRShift</span></span></code></td></tr><tr id="type-calculate_op.BinOpAdd" class="anchored"><td class="def variant constructor"><a href="#type-calculate_op.BinOpAdd" class="anchor"></a><code><span>| </span><span><span class="constructor">BinOpAdd</span></span></code></td></tr><tr id="type-calculate_op.BinOpSub" class="anchored"><td class="def variant constructor"><a href="#type-calculate_op.BinOpSub" class="anchor"></a><code><span>| </span><span><span class="constructor">BinOpSub</span></span></code></td></tr><tr id="type-calculate_op.BinOpMul" class="anchored"><td class="def variant constructor"><a href="#type-calculate_op.BinOpMul" class="anchor"></a><code><span>| </span><span><span class="constructor">BinOpMul</span></span></code></td></tr><tr id="type-calculate_op.BinOpDiv" class="anchored"><td class="def variant constructor"><a href="#type-calculate_op.BinOpDiv" class="anchor"></a><code><span>| </span><span><span class="constructor">BinOpDiv</span></span></code></td></tr><tr id="type-calculate_op.BinOpMod" class="anchored"><td class="def variant constructor"><a href="#type-calculate_op.BinOpMod" class="anchor"></a><code><span>| </span><span><span class="constructor">BinOpMod</span></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Some notes on <code>BinOpAssign</code>:</p><ul><li><code>BinOpAssign None</code> is normal assignment</li><li><code>BinOpAssign Add</code> is &quot;+=&quot;, <code>BinOpAssign Sub</code> is &quot;-=&quot;, etc.</li><li>Not all operators have corresponding assignment operators in the parser. This is just a simplification of AST definition</li></ul><span class="comment-delim">*)</span></td></tr></table></div></div><div class="odoc-spec"><div class="spec type" id="type-binary_op" class="anchored"><a href="#type-binary_op" class="anchor"></a><code><span><span class="keyword">type</span> binary_op</span><span> = </span></code><table><tr id="type-binary_op.BinOpCompare" class="anchored"><td class="def variant constructor"><a href="#type-binary_op.BinOpCompare" class="anchor"></a><code><span>| </span><span><span class="constructor">BinOpCompare</span> <span class="keyword">of</span> <a href="#type-compare_op">compare_op</a></span></code></td></tr><tr id="type-binary_op.BinOpCalculate" class="anchored"><td class="def variant constructor"><a href="#type-binary_op.BinOpCalculate" class="anchor"></a><code><span>| </span><span><span class="constructor">BinOpCalculate</span> <span class="keyword">of</span> <a href="#type-calculate_op">calculate_op</a></span></code></td></tr><tr id="type-binary_op.BinOpAssign" class="anchored"><td class="def variant constructor"><a href="#type-binary_op.BinOpAssign" class="anchor"></a><code><span>| </span><span><span class="constructor">BinOpAssign</span> <span class="keyword">of</span> <span><a href="#type-calculate_op">calculate_op</a> option</span></span></code></td></tr></table></div></div><div class="odoc-spec"><div class="spec type" id="type-expr" class="anchored"><a href="#type-expr" class="anchor"></a><code><span><span class="keyword">type</span> expr</span><span> = </span><span>{</span></code><table><tr id="type-expr.shape" class="anchored"><td class="def record field"><a href="#type-expr.shape" class="anchor"></a><code><span>shape : <a href="#type-expr_shape">expr_shape</a>;</span></code></td></tr><tr id="type-expr.expr_id" class="anchored"><td class="def record field"><a href="#type-expr.expr_id" class="anchor"></a><code><span>expr_id : <a href="NodeId/index.html#type-expr">NodeId.expr</a>;</span></code></td></tr><tr id="type-expr.span" class="anchored"><td class="def record field"><a href="#type-expr.span" class="anchor"></a><code><span>span : <a href="#type-src_span">src_span</a>;</span></code></td></tr></table><code><span>}</span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-expr_shape" class="anchored"><a href="#type-expr_shape" class="anchor"></a><code><span><span class="keyword">and</span> expr_shape</span><span> = </span></code><table><tr id="type-expr_shape.ExpLit" class="anchored"><td class="def variant constructor"><a href="#type-expr_shape.ExpLit" class="anchor"></a><code><span>| </span><span><span class="constructor">ExpLit</span> <span class="keyword">of</span> <a href="#type-literal">literal</a></span></code></td></tr><tr id="type-expr_shape.ExpVar" class="anchored"><td class="def variant constructor"><a href="#type-expr_shape.ExpVar" class="anchor"></a><code><span>| </span><span><span class="constructor">ExpVar</span> <span class="keyword">of</span> <a href="#type-variable">variable</a></span></code></td></tr><tr id="type-expr_shape.ExpUnOp" class="anchored"><td class="def variant constructor"><a href="#type-expr_shape.ExpUnOp" class="anchor"></a><code><span>| </span><span><span class="constructor">ExpUnOp</span> <span class="keyword">of</span> <a href="#type-unary_op">unary_op</a> * <a href="#type-expr">expr</a></span></code></td></tr><tr id="type-expr_shape.ExpBinOp" class="anchored"><td class="def variant constructor"><a href="#type-expr_shape.ExpBinOp" class="anchor"></a><code><span>| </span><span><span class="constructor">ExpBinOp</span> <span class="keyword">of</span> <a href="#type-binary_op">binary_op</a> * <a href="#type-expr">expr</a> * <a href="#type-expr">expr</a></span></code></td></tr><tr id="type-expr_shape.ExpTuple" class="anchored"><td class="def variant constructor"><a href="#type-expr_shape.ExpTuple" class="anchor"></a><code><span>| </span><span><span class="constructor">ExpTuple</span> <span class="keyword">of</span> <span><a href="#type-expr">expr</a> list</span></span></code></td></tr><tr id="type-expr_shape.ExpAdt" class="anchored"><td class="def variant constructor"><a href="#type-expr_shape.ExpAdt" class="anchor"></a><code><span>| </span><span><span class="constructor">ExpAdt</span> <span class="keyword">of</span> <a href="#type-adt_label">adt_label</a> * <span><a href="#type-expr">expr</a> list</span></span></code></td></tr><tr id="type-expr_shape.ExpStruct" class="anchored"><td class="def variant constructor"><a href="#type-expr_shape.ExpStruct" class="anchor"></a><code><span>| </span><span><span class="constructor">ExpStruct</span> <span class="keyword">of</span> <a href="#type-typ_name">typ_name</a> * <span><span>(<a href="#type-struct_field">struct_field</a> * <a href="#type-expr">expr</a>)</span> list</span></span></code></td></tr><tr id="type-expr_shape.ExpField" class="anchored"><td class="def variant constructor"><a href="#type-expr_shape.ExpField" class="anchor"></a><code><span>| </span><span><span class="constructor">ExpField</span> <span class="keyword">of</span> <a href="#type-expr">expr</a> * <a href="#type-struct_field">struct_field</a></span></code></td></tr><tr id="type-expr_shape.ExpThis" class="anchored"><td class="def variant constructor"><a href="#type-expr_shape.ExpThis" class="anchor"></a><code><span>| </span><span><span class="constructor">ExpThis</span></span></code></td></tr><tr id="type-expr_shape.ExpApp" class="anchored"><td class="def variant constructor"><a href="#type-expr_shape.ExpApp" class="anchor"></a><code><span>| </span><span><span class="constructor">ExpApp</span> <span class="keyword">of</span> <a href="#type-func_name">func_name</a> * <span><a href="#type-expr">expr</a> list</span></span></code></td></tr><tr id="type-expr_shape.ExpMethod" class="anchored"><td class="def variant constructor"><a href="#type-expr_shape.ExpMethod" class="anchor"></a><code><span>| </span><span><span class="constructor">ExpMethod</span> <span class="keyword">of</span> <a href="#type-expr">expr</a> * <a href="#type-method_name">method_name</a> * <span><a href="#type-expr">expr</a> list</span></span></code></td></tr><tr id="type-expr_shape.ExpIf" class="anchored"><td class="def variant constructor"><a href="#type-expr_shape.ExpIf" class="anchor"></a><code><span>| </span><span><span class="constructor">ExpIf</span> <span class="keyword">of</span> <a href="#type-expr">expr</a> * <a href="#type-expr">expr</a> * <a href="#type-expr">expr</a></span></code></td></tr><tr id="type-expr_shape.ExpMatch" class="anchored"><td class="def variant constructor"><a href="#type-expr_shape.ExpMatch" class="anchor"></a><code><span>| </span><span><span class="constructor">ExpMatch</span> <span class="keyword">of</span> <a href="#type-expr">expr</a> * <span><span>(<a href="#type-pattern">pattern</a> * <a href="#type-expr">expr</a>)</span> list</span></span></code></td></tr></table></div></div><h2 id="statements"><a href="#statements" class="anchor"></a>Statements</h2><div class="odoc-spec"><div class="spec type" id="type-stmt" class="anchored"><a href="#type-stmt" class="anchor"></a><code><span><span class="keyword">type</span> stmt</span><span> = </span><span>{</span></code><table><tr id="type-stmt.shape" class="anchored"><td class="def record field"><a href="#type-stmt.shape" class="anchor"></a><code><span>shape : <a href="#type-stmt_shape">stmt_shape</a>;</span></code></td></tr><tr id="type-stmt.stmt_id" class="anchored"><td class="def record field"><a href="#type-stmt.stmt_id" class="anchor"></a><code><span>stmt_id : <a href="NodeId/index.html#type-stmt">NodeId.stmt</a>;</span></code></td></tr><tr id="type-stmt.span" class="anchored"><td class="def record field"><a href="#type-stmt.span" class="anchor"></a><code><span>span : <a href="#type-src_span">src_span</a>;</span></code></td></tr></table><code><span>}</span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-stmt_shape" class="anchored"><a href="#type-stmt_shape" class="anchor"></a><code><span><span class="keyword">and</span> stmt_shape</span><span> = </span></code><table><tr id="type-stmt_shape.StmtSeq" class="anchored"><td class="def variant constructor"><a href="#type-stmt_shape.StmtSeq" class="anchor"></a><code><span>| </span><span><span class="constructor">StmtSeq</span> <span class="keyword">of</span> <span><a href="#type-stmt">stmt</a> list</span></span></code></td></tr><tr id="type-stmt_shape.StmtExpr" class="anchored"><td class="def variant constructor"><a href="#type-stmt_shape.StmtExpr" class="anchor"></a><code><span>| </span><span><span class="constructor">StmtExpr</span> <span class="keyword">of</span> <a href="#type-expr">expr</a></span></code></td></tr><tr id="type-stmt_shape.StmtDecl" class="anchored"><td class="def variant constructor"><a href="#type-stmt_shape.StmtDecl" class="anchor"></a><code><span>| </span><span><span class="constructor">StmtDecl</span> <span class="keyword">of</span> <a href="#type-pattern">pattern</a> * <a href="#type-expr">expr</a></span></code></td></tr><tr id="type-stmt_shape.StmtIf" class="anchored"><td class="def variant constructor"><a href="#type-stmt_shape.StmtIf" class="anchor"></a><code><span>| </span><span><span class="constructor">StmtIf</span> <span class="keyword">of</span> <a href="#type-expr">expr</a> * <a href="#type-stmt">stmt</a> * <a href="#type-stmt">stmt</a></span></code></td></tr><tr id="type-stmt_shape.StmtFor" class="anchored"><td class="def variant constructor"><a href="#type-stmt_shape.StmtFor" class="anchor"></a><code><span>| </span><span><span class="constructor">StmtFor</span> <span class="keyword">of</span> <a href="#type-stmt">stmt</a> * <a href="#type-expr">expr</a> * <a href="#type-stmt">stmt</a> * <a href="#type-stmt">stmt</a></span></code></td></tr><tr id="type-stmt_shape.StmtForRange" class="anchored"><td class="def variant constructor"><a href="#type-stmt_shape.StmtForRange" class="anchor"></a><code><span>| </span><span><span class="constructor">StmtForRange</span> <span class="keyword">of</span> <a href="#type-pattern">pattern</a> * <a href="#type-expr">expr</a> * <a href="#type-stmt">stmt</a></span></code></td></tr><tr id="type-stmt_shape.StmtWhile" class="anchored"><td class="def variant constructor"><a href="#type-stmt_shape.StmtWhile" class="anchor"></a><code><span>| </span><span><span class="constructor">StmtWhile</span> <span class="keyword">of</span> <a href="#type-expr">expr</a> * <a href="#type-stmt">stmt</a></span></code></td></tr><tr id="type-stmt_shape.StmtMatch" class="anchored"><td class="def variant constructor"><a href="#type-stmt_shape.StmtMatch" class="anchor"></a><code><span>| </span><span><span class="constructor">StmtMatch</span> <span class="keyword">of</span> <a href="#type-expr">expr</a> * <span><span>(<a href="#type-pattern">pattern</a> * <a href="#type-stmt">stmt</a>)</span> list</span></span></code></td></tr><tr id="type-stmt_shape.StmtReturn" class="anchored"><td class="def variant constructor"><a href="#type-stmt_shape.StmtReturn" class="anchor"></a><code><span>| </span><span><span class="constructor">StmtReturn</span> <span class="keyword">of</span> <a href="#type-expr">expr</a></span></code></td></tr><tr id="type-stmt_shape.StmtBreak" class="anchored"><td class="def variant constructor"><a href="#type-stmt_shape.StmtBreak" class="anchor"></a><code><span>| </span><span><span class="constructor">StmtBreak</span></span></code></td></tr><tr id="type-stmt_shape.StmtContinue" class="anchored"><td class="def variant constructor"><a href="#type-stmt_shape.StmtContinue" class="anchor"></a><code><span>| </span><span><span class="constructor">StmtContinue</span></span></code></td></tr></table></div></div><h2 id="top-level-clauses"><a href="#top-level-clauses" class="anchor"></a>Top Level Clauses</h2><div class="odoc-spec"><div class="spec type" id="type-global_variable_def" class="anchored"><a href="#type-global_variable_def" class="anchor"></a><code><span><span class="keyword">type</span> global_variable_def</span><span> = </span><span>{</span></code><table><tr id="type-global_variable_def.gvar_name" class="anchored"><td class="def record field"><a href="#type-global_variable_def.gvar_name" class="anchor"></a><code><span>gvar_name : <a href="#type-variable">variable</a>;</span></code></td></tr><tr id="type-global_variable_def.gvar_id" class="anchored"><td class="def record field"><a href="#type-global_variable_def.gvar_id" class="anchor"></a><code><span>gvar_id : <a href="#type-symbol">symbol</a>;</span></code></td></tr><tr id="type-global_variable_def.gvar_value" class="anchored"><td class="def record field"><a href="#type-global_variable_def.gvar_value" class="anchor"></a><code><span>gvar_value : <a href="#type-expr">expr</a>;</span></code></td></tr></table><code><span>}</span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-func_arg" class="anchored"><a href="#type-func_arg" class="anchor"></a><code><span><span class="keyword">type</span> func_arg</span><span> = </span><span>{</span></code><table><tr id="type-func_arg.farg_name" class="anchored"><td class="def record field"><a href="#type-func_arg.farg_name" class="anchor"></a><code><span>farg_name : <a href="#type-variable">variable</a>;</span></code></td></tr><tr id="type-func_arg.farg_symb" class="anchored"><td class="def record field"><a href="#type-func_arg.farg_symb" class="anchor"></a><code><span>farg_symb : <a href="#type-symbol">symbol</a>;</span></code></td></tr><tr id="type-func_arg.farg_typ" class="anchored"><td class="def record field"><a href="#type-func_arg.farg_typ" class="anchor"></a><code><span>farg_typ : <a href="#type-typ">typ</a>;</span></code></td></tr></table><code><span>}</span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-func_decl" class="anchored"><a href="#type-func_decl" class="anchor"></a><code><span><span class="keyword">type</span> func_decl</span><span> = </span><span>{</span></code><table><tr id="type-func_decl.func_decl_name" class="anchored"><td class="def record field"><a href="#type-func_decl.func_decl_name" class="anchor"></a><code><span>func_decl_name : <a href="#type-func_name">func_name</a>;</span></code></td></tr><tr id="type-func_decl.func_decl_args" class="anchored"><td class="def record field"><a href="#type-func_decl.func_decl_args" class="anchor"></a><code><span>func_decl_args : <span><a href="#type-func_arg">func_arg</a> list</span>;</span></code></td></tr><tr id="type-func_decl.func_decl_id" class="anchored"><td class="def record field"><a href="#type-func_decl.func_decl_id" class="anchor"></a><code><span>func_decl_id : <a href="NodeId/index.html#type-func">NodeId.func</a>;</span></code></td></tr><tr id="type-func_decl.func_decl_ret" class="anchored"><td class="def record field"><a href="#type-func_decl.func_decl_ret" class="anchor"></a><code><span>func_decl_ret : <a href="#type-typ">typ</a>;</span></code></td></tr></table><code><span>}</span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-func_impl" class="anchored"><a href="#type-func_impl" class="anchor"></a><code><span><span class="keyword">type</span> func_impl</span><span> = <a href="#type-func_decl">func_decl</a> * <a href="#type-stmt">stmt</a></span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-struct_def_field" class="anchored"><a href="#type-struct_def_field" class="anchor"></a><code><span><span class="keyword">type</span> struct_def_field</span><span> = </span></code><table><tr id="type-struct_def_field.StructField" class="anchored"><td class="def variant constructor"><a href="#type-struct_def_field.StructField" class="anchor"></a><code><span>| </span><span><span class="constructor">StructField</span> <span class="keyword">of</span> <a href="#type-struct_field">struct_field</a> * <a href="#type-typ">typ</a></span></code></td></tr><tr id="type-struct_def_field.StructDelegate" class="anchored"><td class="def variant constructor"><a href="#type-struct_def_field.StructDelegate" class="anchor"></a><code><span>| </span><span><span class="constructor">StructDelegate</span> <span class="keyword">of</span> <a href="#type-struct_field">struct_field</a> * <a href="#type-typ">typ</a></span></code></td></tr></table></div></div><div class="odoc-spec"><div class="spec type" id="type-struct_def" class="anchored"><a href="#type-struct_def" class="anchor"></a><code><span><span class="keyword">type</span> struct_def</span><span> = </span><span>{</span></code><table><tr id="type-struct_def.struct_name" class="anchored"><td class="def record field"><a href="#type-struct_def.struct_name" class="anchor"></a><code><span>struct_name : <a href="#type-typ_name">typ_name</a>;</span></code></td></tr><tr id="type-struct_def.struct_fields" class="anchored"><td class="def record field"><a href="#type-struct_def.struct_fields" class="anchor"></a><code><span>struct_fields : <span><a href="#type-struct_def_field">struct_def_field</a> list</span>;</span></code></td></tr></table><code><span>}</span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-adt_def" class="anchored"><a href="#type-adt_def" class="anchor"></a><code><span><span class="keyword">type</span> adt_def</span><span> = </span><span>{</span></code><table><tr id="type-adt_def.adt_name" class="anchored"><td class="def record field"><a href="#type-adt_def.adt_name" class="anchor"></a><code><span>adt_name : <a href="#type-typ_name">typ_name</a>;</span></code></td></tr><tr id="type-adt_def.adt_branches" class="anchored"><td class="def record field"><a href="#type-adt_def.adt_branches" class="anchor"></a><code><span>adt_branches : <span><span>(<a href="#type-adt_label">adt_label</a> * <span><a href="#type-typ">typ</a> list</span>)</span> list</span>;</span></code></td></tr></table><code><span>}</span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-interface_decl" class="anchored"><a href="#type-interface_decl" class="anchor"></a><code><span><span class="keyword">type</span> interface_decl</span><span> = </span><span>{</span></code><table><tr id="type-interface_decl.intf_decl_name" class="anchored"><td class="def record field"><a href="#type-interface_decl.intf_decl_name" class="anchor"></a><code><span>intf_decl_name : <a href="#type-intf_name">intf_name</a>;</span></code></td></tr><tr id="type-interface_decl.intf_decl_methods" class="anchored"><td class="def record field"><a href="#type-interface_decl.intf_decl_methods" class="anchor"></a><code><span>intf_decl_methods : <span><a href="#type-func_decl">func_decl</a> list</span>;</span></code></td></tr></table><code><span>}</span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-methods_impl" class="anchored"><a href="#type-methods_impl" class="anchor"></a><code><span><span class="keyword">type</span> methods_impl</span><span> = </span><span>{</span></code><table><tr id="type-methods_impl.impl_intf" class="anchored"><td class="def record field"><a href="#type-methods_impl.impl_intf" class="anchor"></a><code><span>impl_intf : <span><a href="#type-intf_name">intf_name</a> option</span>;</span></code></td></tr><tr id="type-methods_impl.impl_typ" class="anchored"><td class="def record field"><a href="#type-methods_impl.impl_typ" class="anchor"></a><code><span>impl_typ : <a href="#type-typ_name">typ_name</a>;</span></code></td></tr><tr id="type-methods_impl.impl_id" class="anchored"><td class="def record field"><a href="#type-methods_impl.impl_id" class="anchor"></a><code><span>impl_id : <a href="NodeId/index.html#type-impl">NodeId.impl</a>;</span></code></td></tr><tr id="type-methods_impl.impl_methods" class="anchored"><td class="def record field"><a href="#type-methods_impl.impl_methods" class="anchor"></a><code><span>impl_methods : <span><a href="#type-func_impl">func_impl</a> list</span>;</span></code></td></tr></table><code><span>}</span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-top_clause" class="anchored"><a href="#type-top_clause" class="anchor"></a><code><span><span class="keyword">type</span> top_clause</span><span> = </span><span>{</span></code><table><tr id="type-top_clause.shape" class="anchored"><td class="def record field"><a href="#type-top_clause.shape" class="anchor"></a><code><span>shape : <a href="#type-top_clause_shape">top_clause_shape</a>;</span></code></td></tr><tr id="type-top_clause.span" class="anchored"><td class="def record field"><a href="#type-top_clause.span" class="anchor"></a><code><span>span : <a href="#type-src_span">src_span</a>;</span></code></td></tr></table><code><span>}</span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-top_clause_shape" class="anchored"><a href="#type-top_clause_shape" class="anchor"></a><code><span><span class="keyword">and</span> top_clause_shape</span><span> = </span></code><table><tr id="type-top_clause_shape.StructDef" class="anchored"><td class="def variant constructor"><a href="#type-top_clause_shape.StructDef" class="anchor"></a><code><span>| </span><span><span class="constructor">StructDef</span> <span class="keyword">of</span> <a href="#type-struct_def">struct_def</a></span></code></td></tr><tr id="type-top_clause_shape.ADTDef" class="anchored"><td class="def variant constructor"><a href="#type-top_clause_shape.ADTDef" class="anchor"></a><code><span>| </span><span><span class="constructor">ADTDef</span> <span class="keyword">of</span> <a href="#type-adt_def">adt_def</a></span></code></td></tr><tr id="type-top_clause_shape.InterfaceDecl" class="anchored"><td class="def variant constructor"><a href="#type-top_clause_shape.InterfaceDecl" class="anchor"></a><code><span>| </span><span><span class="constructor">InterfaceDecl</span> <span class="keyword">of</span> <a href="#type-interface_decl">interface_decl</a></span></code></td></tr><tr id="type-top_clause_shape.MethodsImpl" class="anchored"><td class="def variant constructor"><a href="#type-top_clause_shape.MethodsImpl" class="anchor"></a><code><span>| </span><span><span class="constructor">MethodsImpl</span> <span class="keyword">of</span> <a href="#type-methods_impl">methods_impl</a></span></code></td></tr><tr id="type-top_clause_shape.FunctionDef" class="anchored"><td class="def variant constructor"><a href="#type-top_clause_shape.FunctionDef" class="anchor"></a><code><span>| </span><span><span class="constructor">FunctionDef</span> <span class="keyword">of</span> <a href="#type-func_impl">func_impl</a></span></code></td></tr><tr id="type-top_clause_shape.GlobalVarDef" class="anchored"><td class="def variant constructor"><a href="#type-top_clause_shape.GlobalVarDef" class="anchor"></a><code><span>| </span><span><span class="constructor">GlobalVarDef</span> <span class="keyword">of</span> <a href="#type-global_variable_def">global_variable_def</a></span></code></td></tr></table></div></div></div></body></html>